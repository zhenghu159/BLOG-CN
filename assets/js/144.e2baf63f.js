(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{498:function(t,e,s){"use strict";s.r(e);var a=s(1),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("GitHub: "),s("a",{attrs:{href:"https://github.com/maggiecrow/MetaNeighbor",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/maggiecrow/MetaNeighbor"),s("OutboundLink")],1),s("br"),t._v("\nDoc: "),s("a",{attrs:{href:"https://www.bioconductor.org/packages/release/bioc/html/MetaNeighbor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bioconductor.org/packages/release/bioc/html/MetaNeighbor.html"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("作者介绍")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Jesse Gillis")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://thedonnellycentre.utoronto.ca/sites/default/files/styles/square_1_1_900/public/assets/faculty/image/Jesse-Gillis-2L6A0146_1.webp?itok=X5ZW7Cwo",width:"200"}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Cold Spring Harbor Laboratory")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"mailto:jgillis@cshl.edu"}},[t._v("jgillis@cshl.edu")])])])])]),t._v(" "),s("h2",{attrs:{id:"_1-introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-introduction"}},[t._v("#")]),t._v(" 1 Introduction")]),t._v(" "),s("p",[t._v("该方法的目的是通过从随机和功能定义的基因组中采样来测量跨"),s("code",[t._v("单细胞 RNA 测序 (scRNA-seq)")]),t._v("数据集的"),s("code",[t._v("细胞相似性")]),t._v("。MetaNeighbor 的工作基于相同类型的细胞应该比不同类型的细胞具有更相似的基因表达谱。换句话说，当我们比较给定基因组的 T 细胞和肝细胞之间的表达谱时，我们应该看到所有 T 细胞之间的相关性高于 T 细胞和肝细胞之间的相关性。这在下面的示意图中进行了说明：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41467-018-03282-0/MediaObjects/41467_2018_3282_Fig1_HTML.jpg?as=webp",alt:"Figure 1"}})]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("Figure 1")]),t._v(" "),s("p",[s("strong",[t._v("A.")]),t._v(" 基因集表达与细胞类型之间的关系 "),s("br"),t._v(" "),s("strong",[t._v("B.")]),t._v(" 细胞类型内和细胞类型之间的细胞相似性")])]),t._v(" "),s("p",[t._v("在 MetaNeighbor 中，这是通过基于细胞-细胞相似性的邻居投票来格式化的，这将在“Methods”部分中详细描述。简而言之，"),s("strong",[t._v("MetaNeighbor 接受四个输入：1.")]),t._v(' a gene-by-sample expression matrix ("data")，'),s("strong",[t._v("2.")]),t._v(' a set of labels indicating each sample’s dataset of origin ("experiment labels")，'),s("strong",[t._v("3.")]),t._v(' a set of labels indicating each sample\'s cell type ("cell type labels")，'),s("strong",[t._v("4.")]),t._v(' a set of genes ("gene sets")。输出是一个性能向量（"'),s("code",[t._v("AUROC scores")]),t._v('"），它是给定任务的接收者操作特征曲线（AUROC）下的平均面积。这一得分反映了我们在数据集中将相同已知类型的细胞排名高于其他类型的能力，并且可以解释为我们对给定细胞进行二元分类正确的概率 (e.g. neuron vs. non-neuronal cell)。AUROC 得分为 0.5 意味着我们的表现与我们随机猜测细胞的身份一样。这是一个完全监督的分析，并且需要跨数据集的相应细胞类型的知识。然而，当标签可能不明确或无信息时，我们还使用了一些启发式措施来识别数据集中的细胞类型。我们将在小插图的 Part 2 部分中完成这个探索性分析。')]),t._v(" "),s("h2",{attrs:{id:"_2-data-type-requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-data-type-requirements"}},[t._v("#")]),t._v(" 2 Data type requirements")]),t._v(" "),s("p",[t._v("要运行 MetaNeighbor，输入数据应该是 "),s("code",[t._v("SummarizedExperiment objec (SEO)")]),t._v("，并考虑以下因素：")]),t._v(" "),s("ol",[s("li",[t._v("The gene-by-sample matrix should be an assay of SEO.")]),t._v(" "),s("li",[t._v("Gene sets of interest should be provided as a list of vectors.")]),t._v(" "),s("li",[t._v("Additional data should have following vectors:")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("sample_id")]),t._v(": A character vector (length equal to the number of samples) containing a unique identifier for each sample.")]),t._v(" "),s("li",[s("strong",[t._v("study_id")]),t._v(": A character vector (length equal to the number of samples) that indicates the source of each sample (ex.“GSE60361” = Zeisel et al, “GSE71585” = Tasic et al, as in mn_data).")]),t._v(" "),s("li",[s("strong",[t._v("cell_type")]),t._v(": A character vector (length equal to the number of samples) that indicates the celltype of each sample.")])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("strong",[t._v("cell_labels")]),t._v(" should be provided as a sample-by-cell label matrix. This should be a binary (0,1) matrix where 1 indicates cell type membership and 0 indicates non-membership.")])]),t._v(" "),s("p",[t._v("需要注意的附加要求:")]),t._v(" "),s("ol",[s("li",[t._v("It is critical that genes within gene sets match the gene names of the expression matrix.")]),t._v(" "),s("li",[t._v("Gene sets should contain more than one gene.")]),t._v(" "),s("li",[t._v("The row names of the cell_labels object should match the column names of the expression matrix.")])]),t._v(" "),s("h2",{attrs:{id:"_3-system-requirements-estimated-run-times"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-system-requirements-estimated-run-times"}},[t._v("#")]),t._v(" 3 System requirements/estimated run times")]),t._v(" "),s("p",[t._v("Laptop (OSX 10.10.4, 1.6 GHz, 8GB RAM, R 3.3.2, Rstudio 0.99.446) for the default version.")]),t._v(" "),s("p",[t._v("Desktop (Ubuntu 18.04.1 in an Oracle VM, 4 x 3.6 GHz, 10.9GB RAM, R 3.4.4) for the low-memory version.")]),t._v(" "),s("h2",{attrs:{id:"_4-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-installation"}},[t._v("#")]),t._v(" 4 Installation")]),t._v(" "),s("p",[t._v("通过运行以下命令安装 MetaNeighbor 软件包：")]),t._v(" "),s("div",{staticClass:"language-r line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-r"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'devtools'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  install.packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'devtools'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" quiet"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("TRUE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndevtools"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("install_git"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://github.com/gillislab/MetaNeighbor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"_5-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-methods"}},[t._v("#")]),t._v(" 5 Methods")]),t._v(" "),s("p",[t._v("MetaNeighbor 运行如下：首先，我们为一个基因集在所有细胞之间建立一个等级相关网络。然后，网络中的所有值都被重新排序和标准化，使其介于 0-1 之间。接下来，邻居投票预测器通过在网络和指示细胞类型成员资格的二进制向量之间执行矩阵乘法来生成预测标签的加权矩阵，然后将每个元素除以空预测器。也就是说，每个细胞的分数等于其邻居（包括其自身）的分数，这些邻居是给定细胞类型的一部分。对于交叉验证，我们通过保留一个数据集的交叉验证的所有可能组合进行置换，并且我们报告我们在接收器操作符特征曲线下恢复与区域相同类型的细胞的能力 (AUROC)。对交叉验证的所有折叠重复，并报告折叠的平均 AUROC。")]),t._v(" "),s("h3",{attrs:{id:"_5-1-part-1-supervised-metaneighbor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-part-1-supervised-metaneighbor"}},[t._v("#")]),t._v(" 5.1 Part 1: Supervised MetaNeighbor")]),t._v(" "),s("ul",[s("li",[t._v("官网教程："),s("a",{attrs:{href:"https://www.bioconductor.org/packages/release/bioc/vignettes/MetaNeighbor/inst/doc/MetaNeighbor.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bioconductor.org/packages/release/bioc/vignettes/MetaNeighbor/inst/doc/MetaNeighbor.pdf"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);