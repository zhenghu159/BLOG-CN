(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{474:function(e,t,n){"use strict";n.r(t);var a=n(1),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("题目: nnU-Net: 一种基于深度学习的生物医学图像分割的自配置方法"),n("br"),e._v("\nDOI: "),n("a",{attrs:{href:"https://doi.org/10.1038/s41592-020-01008-z",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://doi.org/10.1038/s41592-020-01008-z"),n("OutboundLink")],1),n("br"),e._v("\nCite: Isensee, F., Jaeger, P.F., Kohl, S.A.A. et al. nnU-Net: a self-configuring method for deep learning-based biomedical image segmentation. "),n("em",[e._v("Nat Methods")]),e._v(" 18, 203–211 (2021).")]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("相关阅读")]),e._v(" "),n("p",[e._v("微信公众号："),n("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzkwMjM0MzA5MA==&mid=2247484054&idx=1&sn=cae057ebd0e0842c95a190899e55bc87&chksm=c0a7b24bf7d03b5d6304cb547fb771ba11cc59d9862169a8e1fb71e0b98400c181da1baf53fc&token=1421997773&lang=zh_CN#rd",target:"_blank",rel:"noopener noreferrer"}},[e._v("文献阅读：nnU-Net: 一种基于深度学习的生物医学图像分割的自配置方法"),n("OutboundLink")],1),e._v(" "),n("br"),e._v(" "),n("br"),e._v("\n站内文章：")]),e._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://tigerz.online/pages/d38252/",target:"_blank",rel:"noopener noreferrer"}},[e._v("文献阅读 --- nnU-Net：a self-configuring method for deep learning-based biomedical image segmentation"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://tigerz.online/pages/1c1b2b/",target:"_blank",rel:"noopener noreferrer"}},[e._v("文献阅读 --- Toward data-efficient learning：A benchmark for COVID-19 CT lung and infection segmentation"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://tigerz.online/pages/8633a5/",target:"_blank",rel:"noopener noreferrer"}},[e._v("nnUNet：a self-configuring method for deep learning-based biomedical image segmentation"),n("OutboundLink")],1)])])]),e._v(" "),n("p",[n("strong",[e._v("作者介绍：")])]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[e._v("Klaus H. Maier-Hein")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:"https://www.dkfz.de/__we_thumbs__/72316_12_Klaus1.png",width:"200"}})])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[e._v("German Cancer Research Center")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"mailto:k.maier-hein@dkfz.de"}},[e._v("k.maier-hein@dkfz.de")])])])])]),e._v(" "),n("h2",{attrs:{id:"abstract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),n("p",[e._v("生物医学成像是科学发现的推动者和医疗护理的核心组成部分，并受到深度学习领域的刺激。虽然语义分割算法在许多应用中实现了图像分析和量化，但各自专业化解决方案的设计并不简单，且高度依赖于数据集属性和硬件条件。我们开发了 nnU-Net，一种基于深度学习的分割方法，可以自动配置自己，包括预处理、网络架构、训练和后处理。这个过程中的关键设计选择被建模为一组固定参数、相互依赖的规则和经验决策。在没有手动干预的情况下，nnU-Net 超越了大多数现有方法，包括在23个国际生物医学分割竞赛中使用的高度专业化解决方案。我们将 nnU-Net 公开作为一种开箱即用的工具，通过不需要专业知识和超出标准网络训练之外的计算资源，使最先进的分割技术对广大受众可用。")]),e._v(" "),n("h2",{attrs:{id:"introduction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),n("p",[e._v("语义分割将原始生物医学图像数据转化为有意义的、有空间结构的信息，因此在科学发现方面起着至关重要的作用。同时，语义分割也是许多临床应用的必要组成部分，包括人工智能在诊断支持系统、治疗计划支持、术中辅助和肿瘤生长监测等方面的应用。对自动分割方法的高度兴趣表现在蓬勃发展的研究领域中，该\n领域占据国际生物医学图像分析竞赛的70%。")]),e._v(" "),n("p",[e._v("尽管基于深度学习的分割方法最近取得了成功，但它们对终端用户的特定图像分析问题的适用性通常是有限的。方法的任务特定设计和配置需要高水平的专业知识和经验，小的误差会导致性能大幅下降。特别是在三维生物医学成像领域，数据集属性如成像模态、图像大小、（各向异性）像素间距和类比例等差异巨大，这个过程可能会很麻烦，并且一个数据集的成功配置很少能适用于另一个数据集。自适应和训练神经网络涉及许多专家决策，从确切的网络架构到训练计划和数据增强或后处理方法。每个相互依存的子组件都由关键参数（如学习率、批量大小或类别抽样策略）控制。此外，硬件可用性也增加了整体设置的复杂性。在这个高维空间中纯经验优化共同设计选择的方法，如先前在自动机器学习（AutoML）领域中所提出的，将所需的训练案例数量以及计算资源增加数倍，并且通常只涵盖分割管道的一小部分（例如架构或数据增强），留下了相当大比例的配置问题供试验者解决。此外，将 AutoML 应用于新数据集时还需要进行一系列必要的专家选择，例如在考虑构建合理的问题特定搜索空间时。我们对国际生物医学分割挑战的现状进行的分析表明，这些实际限制通常会让用户在方法设计过程中采用手动的、迭代的试错过程，该过程大多是由个人经验驱动的，只有少量的记录，并且经常导致亚优化的分割管道。")]),e._v(" "),n("p",[e._v("在本工作中，我们概述了医学分割中主要由专家驱动的方法配置和主要由数据驱动的 AutoML 方法之间的新路径。具体来说，我们在此定义了一种配方，系统化了在任务无关级别上的配置过程，并在给定新任务时大大减少了经验设计选择的搜索空间。")]),e._v(" "),n("ol",[n("li",[e._v('收集那些不需要在数据集之间进行适应的设计决策，并确定一个健壮的通用配置（"固定参数"）。')]),e._v(" "),n("li",[e._v('对于尽可能多的剩余决策，以启发式规则的形式，明确数据集属性（"数据集指纹"）和设计决策（"管道指纹"）之间的依赖关系，以实现在应用中的几乎即时适应（"基于规则的参数"）。')]),e._v(" "),n("li",[e._v('仅从数据中学习剩余的决策（"经验性参数"）。')])]),e._v(" "),n("p",[e._v("我们实现了这个方法，并在 Medical Segmentation Decathlon 提供的十个数据集上进行了验证。我们称其为 nnU-Net 的分割方法能够执行任意新数据集的自动配置。与现有研究方法相比，nnU-Net 是综合性的，即其自动配置涵盖了整个分割流程（包括网络体系结构的基本拓扑参数）而不需要任何手动决策。此外，nnU-Net 中的自动配置非常快，只需要执行简单的规则和做出少量经验性的选择，因此除了标准模型训练之外几乎不需要任何计算资源。最后，nnU-Net 是数据有效的；基于大量和多样化的数据池进行设计选择编码，为应用于训练数据有限的数据集提供了强有力的归纳偏差。")]),e._v(" "),n("p",[e._v("nnU-Net 的自动配置的普适性在 13 个额外的数据集上得到了证明。总共，我们报告了 53 个分割任务的结果，涵盖了目标结构、图像类型和图像属性的前所未有的多样性。作为开源工具，nnU-Net 可以简单地进行训练，以生成最先进的分割。")]),e._v(" "),n("h2",{attrs:{id:"results"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#results"}},[e._v("#")]),e._v(" Results")]),e._v(" "),n("p",[e._v("nnU-Net 是一种基于深度学习的分割方法，可以自动配置自己，包括生物医学领域任何新任务的预处理、网络架构、训练和后处理。由 nnU-Net 对各种数据集生成的示范性分割结果如图 Fig.1 所示。")]),e._v(" "),n("h3",{attrs:{id:"fig-1-nnu-net-handles-a-broad-variety-of-datasets-and-target-image-properties"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-1-nnu-net-handles-a-broad-variety-of-datasets-and-target-image-properties"}},[e._v("#")]),e._v(" Fig.1 nnU-Net handles a broad variety of datasets and target image properties")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig1_HTML.png?as=webp",alt:"Fig1"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig1. nnU-Net 处理多种数据集和目标图像属性")]),e._v(" "),n("p",[e._v("所有的例子都来自于 nnU-Net 所应用的不同国际分割挑战的测试集。每个数据集的目标结构显示在2D投影到原始数据上（左），3D显示在原始数据的卷渲染中（右）。所有的可视化操作都是使用 MITK Workbench 创建的。\n"),n("strong",[e._v("a.")]),e._v(" CT 图像中的心脏（绿色）、主动脉（红色）、气管（蓝色）和食管（黄色）（dataset (D)18)。"),n("br"),e._v(" "),n("strong",[e._v("b.")]),e._v(" FM 中的 A549 肺癌细胞（紫色）(D22)。"),n("br"),e._v(" "),n("strong",[e._v("c.")]),e._v(" CT 图像中的肺结节（黄色）(D6)。"),n("br"),e._v(" "),n("strong",[e._v("d.")]),e._v(" T1 in-phase MRI 中的肝脏（黄色）、脾脏（橙色）、左右肾（分别为蓝色和绿色）(D16)。"),n("br"),e._v(" "),n("strong",[e._v("e.")]),e._v(" 电磁扫描中的突触裂隙（绿色）(D19) (https://cremi.org/)。"),n("br"),e._v(" "),n("strong",[e._v("f.")]),e._v(" MRI 中的水肿（黄色）、增强肿瘤（紫色）、坏死（绿色）(T1, T1 with contrast agent, T2, FLAIR) (D1)。"),n("br"),e._v(" "),n("strong",[e._v("g.")]),e._v(" CT 图像中的肾脏（黄色）和肾肿瘤（绿色）(D17)。"),n("br"),e._v(" "),n("strong",[e._v("h.")]),e._v(" CT 图像显示 13 个腹部器官（D11）。 "),n("br"),e._v(" "),n("strong",[e._v("i.")]),e._v(" CT显示肝血管（黄色）和肝肿瘤（绿色）（D8）。"),n("br"),e._v(" "),n("strong",[e._v("j.")]),e._v(" MRI 显示左心室（黄色）(D2)。"),n("br"),e._v(" "),n("strong",[e._v("k.")]),e._v(" cine MRI 中的右心室（黄色）、左心室腔（蓝色）和左心室心肌（绿色）(D13)。"),n("br"),e._v(" "),n("strong",[e._v("l.")]),e._v(" FM 中的 HL60 细胞核（实例分割，每个实例一种颜色） (D21)。")])]),e._v(" "),n("p",[n("strong",[e._v("nnU-Net 会自动适应任何新的数据集。")]),e._v(" Fig. 2 显示了 nnU-Net 如何系统地处理整个分割管道的配置，并提供了最相关的设计选择的可视化和描述。")]),e._v(" "),n("p",[e._v("nnU-Net 的开发。nnU-Net 的自动配置基于将领域知识分为三个参数组：固定参数、基于规则的参数和经验参数。首先，我们收集所有不需要在数据集之间进行调整的设计决策（例如将体系结构模板设置为 \"U-Net-like\"），并优化它们的联合配置，以实现对开发数据集的稳健泛化。其次，对于尽可能多的剩余决策，我们制定了 'dataset fingerprint' 与 'pipeline fingerprint' 之间的明确依赖关系，其中 'dataset fingerprint' 是标准化的数据集表示，包括关键属性，如图像大小、像素间距信息或类别比例，而 'pipeline fingerprint' 则定义为在方法设计期间做出的所有选择的总和。这些依赖关系以相互依赖的启发式规则的形式建模，以实现几乎即时的执行。例如，批次大小、块大小和网络拓扑的相互配置基于以下三个原则。")]),e._v(" "),n("ul",[n("li",[e._v("较大的 batch size 可以提供更准确的梯度估计，因此更可取（通常在我们的领域中没有达到的一个最佳点），但实际上，任何大于 1 的 batch size 都会导致稳健的训练。")]),e._v(" "),n("li",[e._v("在训练期间使用更大的 patch size 会增加网络吸收的上下文信息，因此对性能至关重要。")]),e._v(" "),n("li",[e._v("网络的拓扑结构应该足够深，以保证有效的感受野大小至少与 patch size 一样大，这样就不会丢弃上下文信息。")])]),e._v(" "),n("p",[e._v('将这些知识融合到成功的方法设计中，得到以下的启发式规则："将裁剪尺寸初始化为中位图像形状，然后在相应地调整网络拓扑结构（包括网络深度、每个轴上的池化操作的数量和位置、特征图大小和卷积核大小）的情况下逐步减小裁剪尺寸，直到在给定 GPU 内存限制的情况下可以使用至少两个批次大小进行训练。" 在线方法中提供了所有启发式规则的详细描述，Supplementary Note 2 提供了用于推导规则的指导原则的编译。第三，我们只设置剩余的设计选择，即模型选择和后处理，在应用程序期间根据训练数据进行经验决策。我们将这种方法的实现称为 nnU-Net，它是专门在来自医学十项全能分割挑战赛的十个开发数据集上开发的。')]),e._v(" "),n("p",[e._v('nnU-Net 应用。在将 nnU-Net 应用于新数据集时，nnU-Net 的自动配置在没有手动干预的情况下运行。因此，除了必须进行少量经验性选择外，不需要额外的计算成本，超出了标准网络训练程序所需的范围。nnU-Net 的自动方法配置始于提取数据集指纹和随后执行启发式规则。默认情况下，nnU-Net 生成三种不同的 U-Net 配置：一个二维（2D）U-Net，一个在完整图像分辨率下运行的三维（3D）U-Net，以及一个 3D U-Net cascade，其中第一个 U-Net 对降采样的图像进行操作，第二个 U-Net 被训练以在完整分辨率下细化前者创建的分割图。在交叉验证后，nnU-Net 经验性地选择最佳表现的配置或集成。最后，如果测量到性能提高，则 nnU-Net 经验性地选择 "非最大组件抑制" 作为后处理步骤。nnU-Net 自动配置和训练过程的输出是完全训练好的模型，可以部署以对未见过的图像进行预测。我们通过将其应用于 13 个附加数据集来展示编码在 nnU-Net 的固定、基于规则和经验性参数中的设计选择的泛化能力。')]),e._v(" "),n("p",[e._v("nnU-Net 背后的方法学及其总体设计原则的详细描述分别在 Methods 和 Supplementary Note 2 中提供。nnU-Net 为所有数据集生成的分割流程在 Supplementary Note 6 中提供。")]),e._v(" "),n("h3",{attrs:{id:"fig-2-proposed-automated-method-configuration-for-deep-learning-based-biomedical-image-segmentation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-2-proposed-automated-method-configuration-for-deep-learning-based-biomedical-image-segmentation"}},[e._v("#")]),e._v(" Fig.2 Proposed automated method configuration for deep learning-based biomedical image segmentation")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig2_HTML.png?as=webp",alt:"Fig2"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig2. 提出的基于深度学习的生物医学图像分割的自动方法配置")]),e._v(" "),n("p",[e._v("给定一个新的分割任务，数据集属性以 'dataset fingerprint'（粉红色）的形式被提取。一组启发式规则建模参数的相互依赖关系（如细箭头所示），并对此指纹进行操作，以推断管道的数据依赖的 'rule-based parameters'（绿色）。这些都是由 'fixed parameters'（蓝色）补充的，这是预定义的，不需要适应。可以在 five-fold 交叉验证中训练最多三种配置。最后，nnU-Net 自动对这些模型的最优集成进行经验选择，并确定是否需要进行后处理('empirical parameters', 黄色)。底部的表显示了所有配置参数的显式值以及总结的规则公式。Res., resolution。")])]),e._v(" "),n("p",[n("strong",[e._v("nnU-Net 可以处理各种目标结构和图像属性。")]),e._v(" 我们通过将其应用于 11 个国际生物医学图像分割挑战，包括 23 个不同的数据集和 53 个分割任务 ("),n("a",{attrs:{href:"https://cremi.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cremi.org/"),n("OutboundLink")],1),e._v("）， 展示了 nnU-Net 作为开箱即用的分割工具的价值。这个选择包括各种器官、器官亚结构、肿瘤、病变和 2D 及 3D 图像中的细胞结构，这些图像是通过磁共振成像（MRI）、计算机断层扫描（CT）、电子显微镜（EM）和荧光显微镜（FM）获取的。 'Challenges' 是国际比赛，旨在在标准化环境中评估多种算法的性能。在所有分割任务中，nnU-Net 仅使用提供的挑战数据从头开始进行训练。定性地，我们观察到 nnU-Net 可以处理数据集属性的大差异和目标结构的多样性；也就是说，生成的管道配置符合人类专家认为合理或明智的设置 (Supplementary Note 3, sections 1 and 2)。nnU-Net 生成的分割结果示例如 Fig. 1 所示。")]),e._v(" "),n("p",[n("strong",[e._v("nnU-Net 在各种不同任务中表现优于专业化的管道。")]),e._v(" Fig. 3 概述了 nnU-Net 和所有 53 个分割任务中竞争对手挑战团队所取得的定量结果。尽管其具有通用性，但 nnU-Net 表现优于大多数现有的分割解决方案，即使后者是专门针对各自的任务进行优化的。总体而言，nnU-Net 在 53 个目标结构中的 33 个中创造了新的技术水平，并在其它任务中表现与排名榜前列的竞争者相当或接近。")]),e._v(" "),n("h3",{attrs:{id:"fig-3-nnu-net-outperforms-most-specialized-deep-learning-pipelines"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-3-nnu-net-outperforms-most-specialized-deep-learning-pipelines"}},[e._v("#")]),e._v(" Fig.3 nnU-Net outperforms most specialized deep learning pipelines")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig3_HTML.png?as=webp",alt:"Fig3"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig3. nnU-Net 的性能优于大多数专业的深度学习管道")]),e._v(" "),n("p",[e._v("来自 nnU-Net 竞争的所有国际挑战的定量结果。对于每个分割任务，nnU-Net 获得的结果用红色突出显示；竞争团队用蓝色表示。对于每个分割任务，nnU-Net 的排名和竞争算法的总数显示在每个图的右下角。请注意，对于混乱挑战 (D16)，由于 section 9 of Supplementary Note 6 中概述的原因，我们只参加了五个子任务中的两个。细胞追踪挑战排行榜 (D20-D23) 最后一次访问是在 2020 年 7 月 30 日；所有剩余的排行榜最后一次访问是在 2019 年 12 月 12 日。SIM, simulated。")])]),e._v(" "),n("p",[n("strong",[e._v("方法配置中的细节对性能的影响比架构变化更大。")]),e._v(' 为了更深入地了解基于深度学习的生物医学图像分割的当前实践，我们以最近由医学图像计算和计算机辅助干预（MICCAI）协会举办的肾和肾肿瘤分割 (KiTS) 2019挑战赛的参赛算法为例进行分析。MICCAI 协会一直主办着至少 50% 的年度生物医学图像分析挑战赛。KiTS挑战赛是 MICCAI 2019 中最大的比赛，有 100 多个竞争对手。首先观察到的是，自动机器学习方法明显缺席于排行榜之上。仅有一个提交 (rank 18 of 100) 报告了通过网格搜索选择 "一些超数"（'),n("a",{attrs:{href:"http://results.kits-challenge.org/miccai2019/manuscripts/peekaboo_2.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://results.kits-challenge.org/miccai2019/manuscripts/peekaboo_2.pdf"),n("OutboundLink")],1),e._v("），而手动试错优化代表了不可否认的现状。值得注意的是，这一观察结果不仅仅适用于 KiTS；我们不知道任何成功的生物医学图像分割竞赛提交采用了自动机器学习方法。Fig. 4a 提供了 KiTS 排行榜的总体概述（"),n("a",{attrs:{href:"http://results.kits-challenge.org/miccai2019",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://results.kits-challenge.org/miccai2019"),n("OutboundLink")],1),e._v("），揭示了基于深度学习的分割方法设计的当前情况。首先，前 15 种方法都是基于 2016 年的（3D）U-Net 架构派生而来，证实了它对生物医学图像分割领域的影响。其次，使用相同类型的网络的贡献导致表现遍布整个排行榜。第三，在检查前 15 种方法时，常用的架构修改（例如，残差连接，密集连接，注意力机制或空洞卷积）没有代表 KiTS 任务的良好表现的必要条件。")]),e._v(" "),n("p",[e._v("Fig. 4b 强调了找到好的方法配置的重要性。它展示了使用与挑战获胜贡献相同的架构变体的算法的分析，即带有残差连接的 3D U-Net。虽然其中一种方法赢得了挑战，但其他基于相同原理的贡献则涵盖了整个评估分数和排名范围。关键配置参数是从各自的管道指纹中选择的，说明每个团队在方法配置期间所做的相互依赖的设计选择。参赛者提交的截然不同的配置表明了为生物医学图像分割配置深度学习方法所隐含的高维优化问题的复杂性。")]),e._v(" "),n("p",[e._v("nnU-Net 实验通过在 KiTS 数据集上设置一个新的最佳结果，实验证明了方法配置相对于架构变化的相对重要性。该结果是通过使用普通的 3D U-Net 架构在开放的 leaderboard 上获得的。需要注意的是，nnU-Net 在原始比赛结束后才被提交到 leaderboard 上，因此它不是原始 leaderboard 分析的一部分。这个观察结果与我们在其他 22 个数据集上的结果一致 (Fig. 3)。")]),e._v(" "),n("h3",{attrs:{id:"fig-4-pipeline-fingerprints-from-kits-2019-leaderboard-entries"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-4-pipeline-fingerprints-from-kits-2019-leaderboard-entries"}},[e._v("#")]),e._v(" Fig.4 Pipeline fingerprints from KiTS 2019 leaderboard entries")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig4_HTML.png?as=webp",alt:"Fig4"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig4. 来自 KiTS 2019 排行榜记录的管道指纹")]),e._v(" "),n("p",[n("strong",[e._v("a.")]),e._v(' 根据架构变化对排行榜条目进行粗略分类。所有前15个贡献都是具有跳过连接、3D卷积和输出步幅1的编解码器架构（"3DU-Net-like"，紫色）。'),n("br"),e._v(" "),n("strong",[e._v("b.")]),e._v(" 从所有具有剩余连接的非级联 3D U-net 类架构的管道指纹中选择更细粒度的关键参数（显示在 z-score 标准化尺度上）。缩写，CE, cross-entropy loss function; Dice, soft Dice loss function; WBCE, weighted binary CE。关于 KiTS 2019 challenge 的进一步信息，请访问 "),n("a",{attrs:{href:"http://results.kits-challenge.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://results.kits-challenge.org/"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("p",[n("strong",[e._v("不同的数据集需要不同的管道配置。")]),e._v(" 我们提取了 23 个生物医学分割数据集的数据指纹。如 Fig. 5 所示，这记录了生物医学成像中异常的数据集多样性，并揭示了无开箱即用分割算法的根本原因：方法配置的复杂性受到数据指纹的影响，这些数据指纹可能存在潜在的复杂关系。因此，针对一个数据集确定的管道设置（例如KiTS，见上文）可能无法推广到其他数据集，需要针对每个单独的数据集进行重新优化。nnU-Net 通过确定稳健的设计决策并明确建模关键相互依赖关系来应对这一挑战（Fig. 2）。")]),e._v(" "),n("h3",{attrs:{id:"fig-5-data-fingerprints-across-different-challenge-datasets"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-5-data-fingerprints-across-different-challenge-datasets"}},[e._v("#")]),e._v(" Fig.5 Data fingerprints across different challenge datasets")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig5_HTML.png?as=webp",alt:"Fig5"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig5. 不同挑战数据集上的数据指纹")]),e._v(" "),n("p",[e._v("数据指纹显示关键属性(在一个 s.d. 的尺度上以 z-score 标准化显示。在 nnU-Net 实验中使用的 23 个数据集上 (see Supplementary Note 1 for detailed dataset descriptions)。")])]),e._v(" "),n("p",[n("strong",[e._v("多个任务能够实现强大的设计决策。")]),e._v(" nnU-Net 的自动方法配置可以被研究人员利用来开发新的分割方法。新颖的想法可以轻松地集成到 nnU-Net 中，并因此在多个数据集上进行测试，无需为每个数据集手动重新配置整个流程。为了展示这种方法的优点，同时也支持 nnU-Net 中的一些核心设计选择，我们通过系统修改一些nnU-Net 的固定参数，系统地测试了常见流程变化的性能。以下变化在十个不同的数据集上进行了评估，并与我们的默认 nnU-Net 配置进行了比较，该配置作为这些实验的基线（Fig. 6）。")]),e._v(" "),n("p",[e._v("数据集排名的不稳定性表明，单个设计选择可以根据数据集而影响分割性能。结果清楚地表明，在基于不足数量的数据集进行评估时，需要谨慎地从中得出方法论结论。虽然九个变体中的五个在至少一个数据集中排名第一，但它们中没有一个在十个任务中展现出一致的改进。原始 nnU-Net 配置展现了最好的泛化性能，并在对所有数据集的结果进行汇总时排名第一。")]),e._v(" "),n("h3",{attrs:{id:"fig-6-evaluation-of-design-decisions-across-multiple-tasks"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fig-6-evaluation-of-design-decisions-across-multiple-tasks"}},[e._v("#")]),e._v(" Fig.6 Evaluation of design decisions across multiple tasks")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://media.springernature.com/full/springer-static/image/art%3A10.1038%2Fs41592-020-01008-z/MediaObjects/41592_2020_1008_Fig6_HTML.png?as=webp",alt:"Fig6"}})]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Fig6. 对跨多个任务的设计决策的评估")]),e._v(" "),n("p",[n("strong",[e._v("a-j.")]),e._v(" 对来自医学分割十项全能的 10 个数据集的示范性模型变化的评估(D1–D10, see Fig. 5 for dataset references)：在这项研究中，我们应用了两种备选的损失函数（cross-entropy and TopK10），在编码器中引入了残差连接，使用了三个而不是两个卷积层每个分辨率（导致了更深的网络架构），两种优化器的修改（降低了动量项和使用另一种优化器（Adam）），使用了批归一化而不是实例归一化，以及省略了数据增强（关于进一步设计选择的削弱实验可以在Supplementary Note 8 中找到）。对于每个数据集，通过将五折交叉验证的验证拆分聚合到一个大的验证集中来估计排名稳定性。通过自助法（有放回地抽样）生成了一千个虚拟验证集。在每个虚拟验证集上对算法进行排名，从而得到一个排名分布，如 challengeR 工具所建议的那样。"),n("br"),e._v(" "),n("strong",[e._v("k.")]),e._v(" 跨数据集的排名聚合产生了对设计决策稳健泛化的见解。")])]),e._v(" "),n("h2",{attrs:{id:"discussion"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#discussion"}},[e._v("#")]),e._v(" Discussion")]),e._v(" "),n("p",[e._v("我们介绍了 nnU-Net，这是一种基于深度学习的分割方法，可自动配置包括预处理、网络架构、训练和后处理在内的任何新的生物医学任务。nnU-Net 在大多数任务上都取得了新的最先进成果，优于所有相应的专业处理流程。nnU-Net 的强大性能不是通过新的网络架构、损失函数或训练方案实现的（因此得名 nnU-Net，“没有新网络”），而是通过系统化手动方法配置的复杂过程，该过程先前要么通过繁琐的手动调整，要么通过具有实际限制的纯经验方法来解决。我们假设 nnU-Net 的最先进性能的原因在于将大量数据集的知识浓缩成一组稳健的设计选择，这在应用于新数据集时转化为强大的归纳偏差，使其具有超越在单个数据集上配置的模型的泛化能力。此外，通过将领域知识浓缩成一组固定的、基于规则和经验的参数，我们概述了一条新的路径，用于自动化方法配置，这在计算上是可行的，同时覆盖整个分割管道，包括网络架构的重要拓扑参数。nnU-Net  是一种新的分割工具，可以开箱即用，无需任何用户干预，适用于广泛的生物医学成像数据集，因此非常适合需要访问语义分割方法的用户，他们没有适应现有解决方案所需的专业知识、时间、数据或计算资源。")]),e._v(" "),n("p",[e._v('我们对 KiTS 排行榜的分析揭示了生物医学图像分割中方法配置的手工和不够系统的现状，并为该领域的当前研究提供了一些启示。例如，我们观察到使用相同类型网络的贡献在整个排行榜中表现分散（Fig. 4），这与 Litjens et al. 的研究结果一致，他们在其综述中发现 "许多研究人员使用完全相同的架构"，"但结果差异很大"。文献提出的架构扩展可能无法适用于该领域中的所有数据集，原因可能有几个。首先，生物医学领域的数据集多样性要求有专门的方法配置（Fig. 5）。因此，对新数据集进行的方法配置质量可能会掩盖评估的架构修改的效果。这一解释与 Litjens et al. 的观察一致，他们得出结论："精确的架构不是获得良好解决方案的最重要的决定因素"，并且得到了 nnU-Net 在强大的方法配置和简单的 U-Net 架构组合下实现最先进结果的支持。其次，在当前的研究实践中，评估很少在两个以上的数据集上进行，即使是这样，数据集之间的属性也有很大重叠（例如，都是腹部 CT 扫描）。正如我们的多数据集研究所示（Fig. 6），这样的评估不适合得出一般的方法论结论。我们将不足够广泛的评估与手动调整所需的大量努力以及将提出的方法和现有管道（即基线）适应到个别数据集中的亚优配置基线联系起来。至关重要的是，这种繁琐的过程也可能导致基线配置次优，从而导致文献的潜在偏见。nnU-Net 能够缓解当前研究中的这些瓶颈。一方面，nnU-Net 是一种新的方法，不需要手动进行任务特定的适应，因此可以在任何新的分割任务上作为强大且标准化的基线。另一方面，nnU-Net 可以作为可扩展的实验框架，帮助研究人员轻松实现方法论修改，从而增加在该领域中用于评估的数据集数量。')]),e._v(" "),n("p",[e._v('虽然 nnU-Net 被证明可以在新数据集上稳健地找到高质量的配置，但任务特定的经验优化可能有潜力进一步提高分割性能。然而，正如介绍中所详述的，经验 AutoML 方法的实际限制目前妨碍了它们在生物医学图像分割中的应用。另一个限制是与数据驱动优化相关的缺乏透明度（与 nnU-Net 相比，"black box algorithms"），因为由于基本的指导原则，每个设计决策都可以追溯到某些数据集属性或有限的经验实验。展望未来，我们认为我们的工作是补充经验 AutoML 研究的；nnU-Net 可以作为整体自动化的基础，可以通过选择设计决策（如数据增强或网络架构）的经验优化来增强。')]),e._v(" "),n("p",[e._v("尽管在 53 个不同任务中 nnU-Net 表现出强大的性能，但仍可能存在一些分割任务，nnU-Net 的自动适应不是最优的。例如，nnU-Net 的开发重点是 Dice 系数作为性能度量。然而，某些任务可能需要高度特定于领域的目标度量来评估，这可能会影响方法设计。此外，可能存在未考虑的数据集属性，这可能会导致次优的分割性能。其中一个例子是 CREMI 挑战的突触裂隙分割任务("),n("a",{attrs:{href:"https://cremi.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cremi.org"),n("OutboundLink")],1),e._v(")。虽然 nnU-Net 的性能非常有竞争力(排名39个参赛者中的第6)，但手动调整损失函数以及 EM 特定的预处理可能是超越最先进性能所必需的。原则上，处理尚未充分覆盖的情况有两种方法。对于可能经常发生的情况，可以相应地扩展 nnU-Net 的启发式方法；对于高度特定于领域的情况，应将 nnU-Net 视为必要修改的良好起点。")]),e._v(" "),n("p",[e._v('总的来说，nnU-Net 在各种语义分割挑战中树立了新的技术水平，并显示出强大的泛化特性，无需专业知识或超出标准网络训练的计算资源。正如 Litjens et al. 所指出并在此得到量化确认的那样，生物医学成像中的方法配置曾被认为是一种 "高度经验性的练习"，"没有明确的配方"。基于本文提出的配方，nnU-Net 能够自动化这种经常缺乏系统性和繁琐的过程，从而有助于减轻这一负担。我们建议将 nnU-Net 作为开箱即用的工具，用于最先进的分割、用于标准化和数据集不可知的比较基线，以及用于对新想法进行大规模评估而无需手动努力的框架。')])])}),[],!1,null,null,null);t.default=r.exports}}]);