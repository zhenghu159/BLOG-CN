(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{544:function(e,t,r){"use strict";r.r(t);var o=r(1),v=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("本站使用的是"),r("code",[e._v("Twikoo")]),e._v("评论系统，配置教程参考: "),r("br"),e._v(" "),r("a",{attrs:{href:"https://twikoo.js.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://twikoo.js.org/"),r("OutboundLink")],1),e._v(" "),r("br"),e._v(" "),r("a",{attrs:{href:"https://notes.youngkbt.cn/about/website/comment/#twikoo-%E6%90%AD%E5%BB%BA",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://notes.youngkbt.cn/about/website/comment/#twikoo-搭建"),r("OutboundLink")],1),e._v(" "),r("br"),e._v(" "),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1Fh411e7ZH",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.bilibili.com/video/BV1Fh411e7ZH"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"vercel-部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vercel-部署"}},[e._v("#")]),e._v(" Vercel 部署")]),e._v(" "),r("ol",[r("li",[e._v("申请 "),r("a",{attrs:{href:"https://www.mongodb.com/cloud/atlas/register",target:"_blank",rel:"noopener noreferrer"}},[e._v("MongoDB"),r("OutboundLink")],1),e._v(" 账号")]),e._v(" "),r("li",[e._v("创建免费 MongoDB 数据库，区域推荐选择 "),r("code",[e._v("AWS / N. Virginia (us-east-1)")])]),e._v(" "),r("li",[e._v("在 Clusters 页面点击 CONNECT，按步骤设置允许所有 IP 地址的连接（"),r("a",{attrs:{href:"https://vercel.com/support/articles/how-to-allowlist-deployment-ip-address",target:"_blank",rel:"noopener noreferrer"}},[e._v("为什么？"),r("OutboundLink")],1),e._v("），创建数据库用户，并记录数据库连接字符串，请将连接字符串中的 "),r("code",[e._v("<password>")]),e._v(" 修改为数据库密码")]),e._v(" "),r("li",[e._v("申请 "),r("a",{attrs:{href:"https://vercel.com/signup",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vercel"),r("OutboundLink")],1),e._v(" 账号")]),e._v(" "),r("li",[e._v("点击以下按钮将 Twikoo 一键部署到 Vercel "),r("a",{attrs:{href:"https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/dev/src/vercel-min",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"https://vercel.com/button",alt:"img"}}),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("进入 Settings - Environment Variables，添加环境变量 "),r("code",[e._v("MONGODB_URI")]),e._v("，值为第 3 步的数据库连接字符串")]),e._v(" "),r("li",[e._v("进入 Deployments , 然后在任意一项后面点击更多（三个点） , 然后点击Redeploy , 最后点击下面的Redeploy")]),e._v(" "),r("li",[e._v("进入 Overview，点击 Domains 下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示")]),e._v(" "),r("li",[e._v("Vercel Domains（包含 "),r("code",[e._v("https://")]),e._v(" 前缀，例如 "),r("code",[e._v("https://xxx.vercel.app")]),e._v("）即为您的环境 id")])]),e._v(" "),r("h2",{attrs:{id:"vdoing-集成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vdoing-集成"}},[e._v("#")]),e._v(" Vdoing 集成")]),e._v(" "),r("p",[e._v("打开 "),r("code",[e._v(".vuepress/components/Twikoo.vue")]),e._v(" 组件，将第 67 行的 evnId 换成自己的，即 Vercel 部署 Twikoo 的地址 Vercel Domains，如 "),r("code",[e._v("https://xxx.vercel.app")]),e._v("。")]),e._v(" "),r("p",[e._v("但是，目前 "),r("code",[e._v("https://xxx.vercel.app")]),e._v(" 域名遭到国内的拦截，需要填写自己的域名进行域名解析，映射到 Vercel 提供的地址。具体步骤可以参考 "),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1Re4y1H7g8/",target:"_blank",rel:"noopener noreferrer"}},[e._v("视频"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("如果你不想在某个页面出现评论区，可以在文档里的 frontmatter 里设置 comment 为 false")]),e._v(" "),r("h2",{attrs:{id:"管理面板"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#管理面板"}},[e._v("#")]),e._v(" 管理面板")]),e._v(" "),r("p",[e._v("下面来认识 Twikoo 的管理面板，配置好上面的内容，就可以启动项目，然后看看效果。在评论区的右边发现有一个「"),r("strong",[e._v("蓝色小齿轮")]),e._v("」，这就是管理面板，"),r("strong",[e._v("第一次")]),e._v(" 点击小齿轮后会让你注册 "),r("strong",[e._v("登录密码")]),e._v("，请记住它，如果忘记了密码，请去直接的 MongoDB 数据库修改。")]),e._v(" "),r("p",[e._v("管理面板的用处：")]),e._v(" "),r("ul",[r("li",[e._v("可以查看、删除、隐藏、显示、置顶任意的评论")]),e._v(" "),r("li",[e._v("配置你的个人信息，登录管理面板后评论系统能识别你的身份（博主）")]),e._v(" "),r("li",[e._v("配置反垃圾模块，防止别人发送不雅的评论")]),e._v(" "),r("li",[e._v("配置邮件通知，别人的评论会通过邮件发送给你")])]),e._v(" "),r("h2",{attrs:{id:"邮件配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#邮件配置"}},[e._v("#")]),e._v(" 邮件配置")]),e._v(" "),r("p",[e._v("按照配置管理中的提示进行配置，邮件通知配置参考 "),r("a",{attrs:{href:"https://blog.csdn.net/weixin_58068682/article/details/122770936",target:"_blank",rel:"noopener noreferrer"}},[e._v("文章"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"反垃圾配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#反垃圾配置"}},[e._v("#")]),e._v(" 反垃圾配置")]),e._v(" "),r("p",[e._v("Akismet (Automattic Kismet) 是应用广泛的一个垃圾留言过滤系统，其作者是大名鼎鼎的 WordPress 创始人 Matt Mullenweg，Akismet 也是 WordPress 默认安装的插件，其使用非常广泛，设计目标便是帮助博客网站来过滤垃圾留言。")]),e._v(" "),r("ol",[r("li",[e._v("注册 "),r("a",{attrs:{href:"https://akismet.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("akismet.com"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("选择 Akismet Personal 订阅，复制得到的 Akismet API Key，到 Twikoo 管理面板“反垃圾”模块中配置")])]),e._v(" "),r("p",[r("strong",[e._v("如何测试 Akismet 反垃圾配置是否生效？")])]),e._v(" "),r("p",[e._v("请填写 "),r("code",[e._v("viagra-test-123")]),e._v(" 作为昵称，或填写 "),r("code",[e._v("akismet-guaranteed-spam@example.com")]),e._v(" 作为邮箱，发表评论，这条评论将一定会被视为垃圾评论。")]),e._v(" "),r("p",[e._v("需要注意的是，由于 Akismet 服务响应速度较慢（大约 6 秒），影响用户体验，Twikoo 采取 “先放行，后检测” 的策略，垃圾评论会在发表后短暂可见。")])])}),[],!1,null,null,null);t.default=v.exports}}]);