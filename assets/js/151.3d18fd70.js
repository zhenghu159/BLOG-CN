(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{504:function(t,s,e){"use strict";e.r(s);var a=e(1),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("GitHub: "),e("a",{attrs:{href:"https://github.com/samuel-marsh/scCustomize",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/samuel-marsh/scCustomize"),e("OutboundLink")],1),e("br"),t._v("\nDoc: "),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/index.html"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"sccustomize-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sccustomize-简介"}},[t._v("#")]),t._v(" scCustomize 简介")]),t._v(" "),e("div",{attrs:{align:"left"}},[e("img",{attrs:{src:"https://samuel-marsh.github.io/scCustomize/reference/figures/scCustomize_Logo.svg",width:"200"}})]),t._v(" "),e("p",[t._v("scCustomize 是用于单细胞数据可视化和分析的 R 包。")]),t._v(" "),e("p",[e("strong",[t._v("scCustomize 的目标是：")])]),t._v(" "),e("ol",[e("li",[t._v("自定义可视化以帮助轻松创建更具美感的视觉效果。")]),t._v(" "),e("li",[t._v("使用单个或一组函数提高 scRNA-seq 分析中常见任务的速度和可重复性。")])]),t._v(" "),e("p",[e("strong",[t._v("scCustomize 旨在通过以下方式实现这些目标：")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("许多常用绘图函数（和一些自定义函数）的自定义版本。")]),t._v(" "),e("br"),t._v("\n通过以下方式创造更灵活的可视化和更美观的视觉效果：\n"),e("ul",[e("li",[t._v("更改默认参数以获得更直观的图（或者至少我认为更直观）。例如："),e("code",[t._v("FeaturePlot(..., order = TRUE)")]),t._v("。")]),t._v(" "),e("li",[t._v("将常用的 ggplot2 后绘图主题包装到函数调用中。不再为每个图一遍又一遍地复制/粘贴相同的主题元素。例如："),e("code",[t._v("plot + scale_color_continuous(...) + ggtitle(...) + theme(plot.title = element_text(...), legend.position = ...) + guides(...)")])]),t._v(" "),e("li",[t._v("创建新的绘图函数： 1. 作为已经指定参数的 Seurat 函数的包装器(e.g., "),e("code",[t._v("QC_Plot_Genes()")]),t._v(") 2. 创建新图(e.g., "),e("code",[t._v("Seq_QC_Plot_Reads_per_Cell()")]),t._v(" or "),e("code",[t._v("Plot_Median_Genes()")]),t._v(") 3. both(e.g., "),e("code",[t._v("QC_Plot_UMIvsGene(..., combination = TRUE)")]),t._v(")")]),t._v(" "),e("li",[t._v("向新函数内的现有图添加附加参数(e.g., high and low cutoff parameters in "),e("code",[t._v("QC_Plot_UMIvsGene()")]),t._v(")")])])]),t._v(" "),e("li",[e("strong",[t._v("简单的迭代绘图功能")]),t._v("\n许多绘图功能可以通过 loops、apply、purrr 等轻松实现自动化。然而，这些对于新手用户来说可能是令人生畏的，通常可以通过包装成一个函数来变得更容易。\n"),e("ul",[e("li",[t._v("scCustomize 包含许多迭代绘图函数，这些函数包含额外的参数来指定文件类型、路径、名称，然后在控制台中呈现进度条以跟踪进度。")]),t._v(" "),e("li",[t._v("返回单个 PDF 文档或任何有效文件类型的多个图(e.g., png, tiff, jpeg, pdf, etc)。")])])]),t._v(" "),e("li",[e("strong",[t._v("辅助函数轻松导入多种原始数据类型")]),t._v("\n导入数据功能旨在简化导入具有单一功能的多个文件/示例和/或导入具有“非标准”文件名的文件。\n"),e("ul",[e("li",[t._v("迭代导入功能以简化跨文件/示例组的导入过程。")]),t._v(" "),e("li",[t._v("尽可能并行化函数，以便在同时导入大量样本时显着提高速度。")]),t._v(" "),e("li",[t._v("提供简单的包装函数以导入具有 Seurat 或其他常见 R 包不支持的输出格式（例如 CellBender）的文件。")])])]),t._v(" "),e("li",[e("strong",[t._v("辅助函数通过添加新的默认参数或将多行代码包装到单个函数中来简化分析")]),t._v("\n目标是既加快和简化代码，又减少复制/粘贴相同代码行的使用，减少代码重现性错误。\n"),e("ul",[e("li",[t._v("添加新参数的示例：添加与线粒体（和/或核糖体）基因比对的计数百分比是分析中常见的早期步骤。scCustomize 提供 "),e("code",[t._v("Add_Mito_Ribo_Seurat()")]),t._v("（和 LIGER 版本）来简化这一过程。基本使用只需要一行代码和两个参数。\n"),e("code",[t._v('Add_Mito_Ribo_Seurat(seurat_object = obj_name, species = "Human")')]),t._v(" "),e("ul",[e("li",[t._v("函数已经知道 Human、Mouse、Rat、Zebrafish、Drosophila、Marmoset、Rhesus Macaque 的默认值（如果您想添加更多物种，请提交 PR！）。")])])]),t._v(" "),e("li",[t._v("将多行包装成一行的示例：在运行 "),e("code",[t._v("Seurat::FindAllMarkers()")]),t._v(" 后提取每个 identity 的 top10（或 15、20、25 等）基因是非常常见的，scCustomize 提供 `Extract_Top_Markers()`` 函数来简化过程。\n使用 scCustomize 函数：")])]),t._v(" "),e("div",{staticClass:"language-r line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-r"}},[e("code",[t._v("markers_df "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" FindAllMarkers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Get vector/string")]),t._v("\ntop10_list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" Extract_Top_Markers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("marker_dataframe "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" markers_df"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or for data.frame")]),t._v("\ntop10_df "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" Extract_Top_Markers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("marker_dataframe "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" markers_df"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dataframe "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("TRUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),t._v("原始的方法需要大量代码："),e("div",{staticClass:"language-r line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-r"}},[e("code",[t._v("markers_df "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" FindAllMarkers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Get vector/string")]),t._v("\ntop10_list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" markers_df "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  rownames_to_column"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rownames"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  group_by"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cluster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  slice_max"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order_by "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" avg_log2FC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  pull"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gene"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or for data.frame")]),t._v("\ntop10_df "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" markers_df "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  rownames_to_column"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rownames"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  group_by"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cluster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  slice_max"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order_by "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" avg_log2FC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%>%")]),t._v("\n  column_to_rownames"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rownames"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br")])])]),t._v(" "),e("li",[e("strong",[t._v("为许多常见问题提供更多信息性错误消息")]),t._v("\n由 Seurat（或其他包）函数内部的错误导致的 Base R 错误消息有时可能难以解释，尤其是对于 R 的新用户。\n"),e("ul",[e("li",[t._v("scCustomize 提供检查/警告，使用 cli/rlang 包，包装在其功能中以帮助提供更多信息错误/警告消息。两个例子包括：\n"),e("ul",[e("li",[e("code",[t._v("Add_Mito_Ribo_Seurat()")]),t._v(" 将警告您，如果未发现线粒体或核糖体特征，并且不会创建新的 metadata 列。")]),t._v(" "),e("li",[e("code",[t._v("Rename_Clusters()")]),t._v(" 将检查并确保提供了正确数量的唯一新名称，如果没有，则在尝试重命名对象标识之前提供两条错误消息之一。")])])])])])]),t._v(" "),e("h2",{attrs:{id:"installing-sccustomize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-sccustomize"}},[t._v("#")]),t._v(" Installing scCustomize")]),t._v(" "),e("div",{staticClass:"language-r line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-r"}},[e("code",[t._v("install.packages"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scCustomize"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"plotting-vignettes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plotting-vignettes"}},[t._v("#")]),t._v(" Plotting Vignettes")]),t._v(" "),e("h3",{attrs:{id:"plotting-1-analysis-plots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plotting-1-analysis-plots"}},[t._v("#")]),t._v(" Plotting #1: Analysis Plots")]),t._v(" "),e("p",[t._v("官网教程："),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/articles/Gene_Expression_Plotting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/articles/Gene_Expression_Plotting.html"),e("OutboundLink")],1),t._v(" "),e("br"),t._v("\n中文教程："),e("a",{attrs:{href:"https://htmlpreview.github.io/?https://github.com/zhenghu159/Bioinformatics-Tools/blob/main/%E5%8D%95%E7%BB%86%E8%83%9E%E7%A9%BA%E9%97%B4%E8%BD%AC%E5%BD%95%E7%BB%84/011.scCustomize/Plotting%20%231%20Analysis%20Plots.nb.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://htmlpreview.github.io/?https://github.com/zhenghu159/Bioinformatics-Tools/blob/main/单细胞空间转录组/011.scCustomize/Plotting %231 Analysis Plots.nb.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"plotting-2-qc-plots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plotting-2-qc-plots"}},[t._v("#")]),t._v(" Plotting #2: QC Plots")]),t._v(" "),e("p",[t._v("官网教程："),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/articles/QC_Plots.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/articles/QC_Plots.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"plotting-3-sequencing-qc-plots-analysis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plotting-3-sequencing-qc-plots-analysis"}},[t._v("#")]),t._v(" Plotting #3: Sequencing QC Plots/Analysis")]),t._v(" "),e("p",[t._v("官网教程："),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/articles/Sequencing_QC_Plots.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/articles/Sequencing_QC_Plots.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"plotting-4-iterative-plotting-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plotting-4-iterative-plotting-functions"}},[t._v("#")]),t._v(" Plotting #4: Iterative Plotting Functions")]),t._v(" "),e("p",[t._v("官网教程："),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/articles/Iterative_Plotting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/articles/Iterative_Plotting.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"customized-color-palettes-themes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customized-color-palettes-themes"}},[t._v("#")]),t._v(" Customized Color Palettes & Themes")]),t._v(" "),e("p",[t._v("官网教程："),e("a",{attrs:{href:"https://samuel-marsh.github.io/scCustomize/articles/Color_Palettes.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://samuel-marsh.github.io/scCustomize/articles/Color_Palettes.html"),e("OutboundLink")],1),t._v(" "),e("br"),t._v("\n中文教程："),e("a",{attrs:{href:"https://htmlpreview.github.io/?https://github.com/zhenghu159/Bioinformatics-Tools/blob/main/%E5%8D%95%E7%BB%86%E8%83%9E%E7%A9%BA%E9%97%B4%E8%BD%AC%E5%BD%95%E7%BB%84/011.scCustomize/Customized%20Color%20Palettes%20&%20Themes.nb.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://htmlpreview.github.io/?https://github.com/zhenghu159/Bioinformatics-Tools/blob/main/单细胞空间转录组/011.scCustomize/Customized Color Palettes & Themes.nb.html"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);